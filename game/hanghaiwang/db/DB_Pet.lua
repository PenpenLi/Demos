-- Filename: DB_Pet.lua
-- Author: auto-created by XmlToScript tool.
-- Function: it`s auto-created by XmlToScript tool.

module("DB_Pet", package.seeall)

keys = {
	"id", "tmpl_name", "name", "img", "model_id", "pet_model_id", "desc", "is_default", "needed_usr_lv", "prepet_id", "active_pet", "limit_level", "astAttr1", "astAttr2", "astAttr3", "astAttr4", "astAttr5", "expId", "pet_quality", "need_item", "item_des", 
}

Pet = {
	id_1 = {1, "宠物1_1", "赤血宝马", "xiaoma.png", "xiaoma_stand", nil, nil, 1, 0, nil, 2, 30, "9|1,4|1,9|1,5|1,1|5,9|1,4|1,9|1,5|1,1|5,9|1,4|1,9|1,5|1,1|5,9|1,4|1,9|1,5|1,1|5,9|2,4|2,9|2,5|2,1|10,9|1,4|1,9|1,5|1,1|5", "4|0,9|0,5|0,1|0,9|0,4|1,9|1,5|1,1|5,9|1,4|1,9|1,5|1,1|5,9|1,4|1,9|1,5|1,1|5,9|1,4|1,9|1,5|1,1|5,9|1,4|2,9|2,5|2,1|10,9|2", "9|0,1|0,4|0,9|0,5|0,9|0,1|0,4|0,9|0,5|0,9|1,1|5,4|1,9|1,5|1,9|1,1|5,4|1,9|1,5|1,9|1,1|5,4|1,9|1,5|1,9|1,1|5,4|1,9|1,5|1", "1|0,5|0,9|0,4|0,9|0,1|0,5|0,9|0,4|0,9|0,1|0,5|0,9|0,4|0,9|0,1|5,5|1,9|1,4|1,9|1,1|5,5|1,9|1,4|1,9|1,1|5,5|1,9|1,4|1,9|1", nil, 1001, 1, nil, nil, },
	id_2 = {2, "宠物1_2", "白鹤", "baihe.png", nil, "big_3_ma_1.png", nil, 1, 0, "1|20", 3, 40, "9|1,4|1,9|1,5|1,1|5,9|1,4|1,9|1,5|1,1|5,9|2,4|2,9|2,5|2,1|10,9|1,4|1,9|1,5|1,1|5,9|1,4|1,9|1,5|1,1|5,9|2,4|2,9|2,5|2,1|10,9|2,4|2,9|2,5|2,1|10,9|1,4|1,9|1,5|1,1|5", "4|1,9|1,5|1,1|5,9|1,4|1,9|1,5|1,1|5,9|1,4|2,9|2,5|2,1|10,9|2,4|2,9|2,5|2,1|10,9|2,4|1,9|1,5|1,1|5,9|1,4|1,9|1,5|1,1|5,9|1,4|2,9|2,5|2,1|10,9|2,4|2,9|2,5|2,1|10,9|2", "9|2,1|10,4|2,9|2,5|2,9|1,1|5,4|1,9|1,5|1,9|1,1|5,4|1,9|1,5|1,9|2,1|10,4|2,9|2,5|2,9|2,1|10,4|2,9|2,5|2,9|1,1|5,4|1,9|1,5|1,9|2,1|10,4|2,9|2,5|2,9|2,1|10,4|2,9|2,5|2", "1|5,5|1,9|1,4|1,9|1,1|10,5|2,9|2,4|2,9|2,1|5,5|1,9|1,4|1,9|1,1|5,5|1,9|1,4|1,9|1,1|10,5|2,9|2,4|2,9|2,1|10,5|2,9|2,4|2,9|2,1|5,5|1,9|1,4|1,9|1,1|10,5|2,9|2,4|2,9|2", nil, 1002, 1, nil, nil, },
	id_3 = {3, "宠物1_3", "如意熊猫", "daxiongmao.png", "xiongmao_stand", nil, nil, 1, 0, "2|30", 4, 50, "9|2,4|2,9|2,5|2,1|10,9|2,4|2,9|2,5|2,1|10,9|2,4|2,9|2,5|2,1|10,9|3,4|3,9|3,5|3,1|15,9|2,4|2,9|2,5|2,1|10,9|2,4|2,9|2,5|2,1|10,9|2,4|2,9|2,5|2,1|10,9|3,4|3,9|3,5|3,1|15,9|2,4|2,9|2,5|2,1|10,9|2,4|2,9|2,5|2,1|10", "4|1,9|1,5|1,1|5,9|1,4|2,9|2,5|2,1|10,9|2,4|2,9|2,5|2,1|10,9|2,4|2,9|2,5|2,1|10,9|2,4|3,9|3,5|3,1|15,9|3,4|2,9|2,5|2,1|10,9|2,4|2,9|2,5|2,1|10,9|2,4|3,9|3,5|3,1|15,9|3,4|3,9|3,5|3,1|15,9|3,4|2,9|2,5|2,1|10,9|2", "9|2,1|10,4|2,9|2,5|2,9|1,1|5,4|1,9|1,5|1,9|2,1|10,4|2,9|2,5|2,9|2,1|10,4|2,9|2,5|2,9|2,1|10,4|2,9|2,5|2,9|3,1|15,4|3,9|3,5|3,9|2,1|10,4|2,9|2,5|2,9|2,1|10,4|2,9|2,5|2,9|3,1|15,4|3,9|3,5|3,9|3,1|15,4|3,9|3,5|3", "1|10,5|2,9|2,4|2,9|2,1|10,5|2,9|2,4|2,9|2,1|10,5|2,9|2,4|2,9|2,1|10,5|2,9|2,4|2,9|2,1|10,5|2,9|2,4|2,9|2,1|10,5|2,9|2,4|2,9|2,1|15,5|3,9|3,4|3,9|3,1|10,5|2,9|2,4|2,9|2,1|10,5|2,9|2,4|2,9|2,1|15,5|3,9|3,4|3,9|3", nil, 1003, 1, nil, nil, },
	id_4 = {4, "宠物1_4", "剑齿虎", "jianchihu.png", "jianchihu_stand", nil, nil, 1, 0, "3|40", nil, 60, "9|3,4|3,9|3,5|3,1|15,9|3,4|3,9|3,5|3,1|15,9|2,4|2,9|2,5|2,1|10,9|3,4|3,9|3,5|3,1|15,9|3,4|3,9|3,5|3,1|15,9|3,4|3,9|3,5|3,1|15,9|4,4|4,9|4,5|4,1|20,9|3,4|3,9|3,5|3,1|15,9|3,4|3,9|3,5|3,1|15,9|3,4|3,9|3,5|3,1|15,9|4,4|4,9|4,5|4,1|20,9|3,4|3,9|3,5|3,1|15", "4|2,9|2,5|2,1|10,9|2,4|3,9|3,5|3,1|15,9|3,4|3,9|3,5|3,1|15,9|3,4|2,9|2,5|2,1|10,9|2,4|3,9|3,5|3,1|15,9|3,4|3,9|3,5|3,1|15,9|3,4|3,9|3,5|3,1|15,9|3,4|4,9|4,5|4,1|20,9|4,4|3,9|3,5|3,1|15,9|3,4|3,9|3,5|3,1|15,9|3,4|4,9|4,5|4,1|20,9|4,4|4,9|4,5|4,1|20,9|4", "9|2,1|10,4|2,9|2,5|2,9|3,1|15,4|3,9|3,5|3,9|3,1|15,4|3,9|3,5|3,9|3,1|15,4|3,9|3,5|3,9|2,1|10,4|2,9|2,5|2,9|3,1|15,4|3,9|3,5|3,9|3,1|15,4|3,9|3,5|3,9|3,1|15,4|3,9|3,5|3,9|4,1|20,4|4,9|4,5|4,9|3,1|15,4|3,9|3,5|3,9|3,1|15,4|3,9|3,5|3,9|4,1|20,4|4,9|4,5|4", "1|15,5|3,9|3,4|3,9|3,1|10,5|2,9|2,4|2,9|2,1|15,5|3,9|3,4|3,9|3,1|15,5|3,9|3,4|3,9|3,1|15,5|3,9|3,4|3,9|3,1|15,5|3,9|3,4|3,9|3,1|15,5|3,9|3,4|3,9|3,1|15,5|3,9|3,4|3,9|3,1|15,5|3,9|3,4|3,9|3,1|20,5|4,9|4,4|4,9|4,1|15,5|3,9|3,4|3,9|3,1|15,5|3,9|3,4|3,9|3", nil, 1004, 1, nil, nil, },
}

local mt = {}
mt.__index = function (table, key)
	for i = 1, #keys do
		if (keys[i] == key) then
			return table[i]
		end
	end
end

function getDataById(key_id)
	local id_data = Pet["id_" .. key_id]
	assert(id_data, "Pet not found " ..  key_id)
	if id_data == nil then
		return nil
	end
	if getmetatable(id_data) ~= nil then
		return id_data
	end
	setmetatable(id_data, mt)

	return id_data
end

function getArrDataByField(fieldName, fieldValue)
	local arrData = {}
	local fieldNo = 1
	for i=1, #keys do
		if keys[i] == fieldName then
			fieldNo = i
			break
		end
	end
	for k, v in pairs(Pet) do
		if v[fieldNo] == fieldValue then
			setmetatable (v, mt)
			arrData[#arrData+1] = v
		end
	end

	return arrData
end

function release()
	_G["DB_Pet"] = nil
	package.loaded["DB_Pet"] = nil
	package.loaded["db/DB_Pet"] = nil
end

