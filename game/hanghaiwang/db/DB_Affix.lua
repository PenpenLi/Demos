-- Filename: DB_Affix.lua
-- Author: auto-created by XmlToScript tool.
-- Function: it`s auto-created by XmlToScript tool.

module("DB_Affix", package.seeall)

keys = {
	"id", "displayName", "sigleName", "type", 
}

Affix = {
	id_1 = {1, "生命", "生命", 1, },
	id_2 = {2, "物攻", "物攻", 1, },
	id_3 = {3, "魔攻", "魔攻", 1, },
	id_4 = {4, "物防", "物防", 1, },
	id_5 = {5, "魔防", "魔防", 1, },
	id_6 = {6, "统帅", "统帅", 2, },
	id_7 = {7, "武力", "武力", 2, },
	id_8 = {8, "智力", "智力", 2, },
	id_9 = {9, "攻击", "攻击", 1, },
	id_10 = {10, "必防", "必防", 1, },
	id_11 = {11, "总生命", "生命", 3, },
	id_12 = {12, "总物攻", "物攻", 3, },
	id_13 = {13, "总魔攻", "魔攻", 3, },
	id_14 = {14, "总物防", "物防", 3, },
	id_15 = {15, "总魔防", "魔防", 3, },
	id_16 = {16, "统帅", "统帅", 3, },
	id_17 = {17, "武力", "武力", 3, },
	id_18 = {18, "智力", "智力", 3, },
	id_19 = {19, "攻击", "攻击", 3, },
	id_20 = {20, "必防", "必防", 3, },
	id_21 = {21, "命中率", "命中率", 3, },
	id_22 = {22, "物攻天赋", "物攻天赋", 2, },
	id_23 = {23, "魔攻天赋", "魔攻天赋", 2, },
	id_24 = {24, "物理免伤", "物理免伤", 3, },
	id_25 = {25, "魔法免伤", "魔法免伤", 3, },
	id_26 = {26, "暴击率", "暴击率", 3, },
	id_27 = {27, "格挡率", "格挡率", 3, },
	id_28 = {28, "闪避率", "闪避率", 3, },
	id_29 = {29, "最终伤害", "最终伤害", 1, },
	id_30 = {30, "最终免伤", "最终免伤", 1, },
	id_31 = {31, "属性1", "属性1", 2, },
	id_32 = {32, "属性1", "属性1", 2, },
	id_33 = {33, "属性1", "属性1", 2, },
	id_34 = {34, "属性1", "属性1", 2, },
	id_35 = {35, "属性1", "属性1", 2, },
	id_36 = {36, "属性1", "属性1", 1, },
	id_37 = {37, "属性1", "属性1", 1, },
	id_38 = {38, "属性1", "属性1", 1, },
	id_39 = {39, "属性1", "属性1", 1, },
	id_40 = {40, "属性1", "属性1", 1, },
	id_41 = {41, "属性1", "属性1", 1, },
	id_42 = {42, "属性1", "属性1", 1, },
	id_43 = {43, "属性1", "属性1", 1, },
	id_44 = {44, "属性1", "属性1", 1, },
	id_45 = {45, "属性1", "属性1", 1, },
	id_46 = {46, "属性1", "属性1", 1, },
	id_47 = {47, "属性1", "属性1", 1, },
	id_48 = {48, "属性1", "属性1", 1, },
	id_49 = {49, "初始怒气", "初始怒气", 1, },
	id_50 = {50, "属性1", "属性1", 1, },
	id_51 = {51, "最终生命", "最终生命", 1, },
	id_52 = {52, "属性1", "属性1", 1, },
	id_53 = {53, "属性1", "属性1", 1, },
	id_54 = {54, "属性1", "属性1", 1, },
	id_55 = {55, "属性1", "属性1", 1, },
	id_56 = {56, "伤害加成", "伤害加成", 3, },
	id_57 = {57, "伤害减免", "伤害减免", 3, },
	id_58 = {58, "普通攻击伤害", "普通攻击伤害", 3, },
	id_59 = {59, "普通攻击免伤", "普通攻击免伤", 3, },
	id_60 = {60, "怒气攻击伤害", "怒气攻击伤害", 3, },
	id_61 = {61, "怒气攻击免伤", "怒气攻击免伤", 3, },
	id_62 = {62, "治疗效果", "治疗效果", 3, },
	id_63 = {63, "被治疗效果", "被治疗效果", 3, },
	id_64 = {64, "攻击是否可被反击", "攻击是否可被反击", 1, },
	id_65 = {65, "是否可被暴击", "是否可被暴击", 1, },
	id_66 = {66, "攻击是否可被闪避", "攻击是否可被闪避", 1, },
	id_67 = {67, "破魏", "破魏", 3, },
	id_68 = {68, "破蜀", "破蜀", 3, },
	id_69 = {69, "破吴", "破吴", 3, },
	id_70 = {70, "破群", "破群", 3, },
	id_71 = {71, "抗魏", "抗魏", 3, },
	id_72 = {72, "抗蜀", "抗蜀", 3, },
	id_73 = {73, "抗吴", "抗吴", 3, },
	id_74 = {74, "抗群", "抗群", 3, },
	id_75 = {75, "暴击伤害", "暴击倍数", 3, },
	id_76 = {76, "抗暴", "抗暴", 3, },
	id_77 = {77, "破挡", "破挡", 3, },
	id_78 = {78, "伤害加成", "系统调整攻击倍率", 3, },
	id_79 = {79, "免伤加成", "系统调整防御倍率", 3, },
	id_80 = {80, "物理穿透", "物理穿透", 1, },
	id_81 = {81, "法术穿透", "法术穿透", 1, },
	id_82 = {82, "物理抗性", "物理抗性", 1, },
	id_83 = {83, "法术抗性", "法术抗性", 1, },
	id_84 = {84, "治疗值", "治疗值", 1, },
	id_85 = {85, "被治疗值", "被治疗值", 1, },
	id_86 = {86, "灼烧伤害", "灼烧伤害", 1, },
	id_87 = {87, "中毒伤害", "中毒伤害", 1, },
	id_88 = {88, "灼烧免伤", "灼烧免伤", 1, },
	id_89 = {89, "中毒免伤", "中毒免伤", 1, },
	id_90 = {90, "生命天赋", "生命天赋", 2, },
	id_91 = {91, "速度", "速度", 1, },
	id_92 = {92, "物攻", "物攻", 3, },
	id_93 = {93, "魔攻", "魔攻", 3, },
	id_94 = {94, "物防", "物防", 3, },
	id_95 = {95, "魔防", "魔防", 3, },
	id_96 = {96, "生命", "生命", 3, },
	id_97 = {97, "灼烧伤害", "灼烧伤害", 3, },
	id_98 = {98, "中毒伤害", "中毒伤害", 3, },
	id_99 = {99, "灼烧免伤", "灼烧免伤", 3, },
	id_100 = {100, "中毒免伤", "中毒免伤", 3, },
}

local mt = {}
mt.__index = function (table, key)
	for i = 1, #keys do
		if (keys[i] == key) then
			return table[i]
		end
	end
end

function getDataById(key_id)
	local id_data = Affix["id_" .. key_id]
	assert(id_data, "Affix not found " ..  key_id)
	if id_data == nil then
		return nil
	end
	if getmetatable(id_data) ~= nil then
		return id_data
	end
	setmetatable(id_data, mt)

	return id_data
end

function getArrDataByField(fieldName, fieldValue)
	local arrData = {}
	local fieldNo = 1
	for i=1, #keys do
		if keys[i] == fieldName then
			fieldNo = i
			break
		end
	end
	for k, v in pairs(Affix) do
		if v[fieldNo] == fieldValue then
			setmetatable (v, mt)
			arrData[#arrData+1] = v
		end
	end

	return arrData
end

function release()
	_G["DB_Affix"] = nil
	package.loaded["DB_Affix"] = nil
	package.loaded["db/DB_Affix"] = nil
end

